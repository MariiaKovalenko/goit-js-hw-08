{"mappings":"qhBACA,IAAAA,EAAAC,EAAA,SACA,IAAIC,EAAe,GAEnB,IAAIC,EAAc,CAACC,MAAM,IAAKC,QAAQ,KAGtC,MAAMC,EAAW,CACbC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,yBAC9BE,SAAUH,SAASC,cAAc,6BAGrCH,EAASC,KAAKK,iBAAiB,QAASC,EAAAb,EAAA,EAKxC,SAAkBc,GACdX,EAAYW,EAAEC,OAAOC,MAAQF,EAAEC,OAAOE,MACtCC,aAAaC,QAjBQ,sBAiBkBC,KAAKC,UAAUlB,G,GAPC,MAC3DG,EAASC,KAAKK,iBAAiB,UAS/B,SAAoBE,GAChBA,EAAEQ,iBAEF,MAAMC,EAAYH,KAAKI,MAAMN,aAAaO,QAvBrB,wBAwBrBC,QAAQC,IAAIJ,GAEZT,EAAEc,cAAcC,QAChBX,aAAaY,WA3BQ,uBA4BrB5B,EAAe,E,IAInB,WACI,MAAM6B,EAAmBb,aAAaO,QAjCjB,uBAkCjBM,IACA7B,EAAekB,KAAKI,MAAMO,GAC1BL,QAAQC,IAAIzB,GACZI,EAASI,MAAMO,MAAQf,EAAaE,MACpCE,EAASK,SAASM,MAAQf,EAAaG,Q,CAzB/C2B","sources":["src/js/03-feedback.js"],"sourcesContent":["\nimport throttle from \"lodash/throttle\";\nlet selectedElem = {};\nconst LOCALSTORAGE_KEY = \"feedback-form-state\";\nlet localObject = {email:' ', message:' '};\n\n\nconst formElem = {\n    form: document.querySelector('.feedback-form'),\n    input: document.querySelector('.feedback-form  input'),\n    textarea: document.querySelector('.feedback-form  textarea'),\n};\n\nformElem.form.addEventListener('input', throttle(formData, 500));\nformElem.form.addEventListener('submit', formSubmit);\n\ninitForm();\n\nfunction formData(e) {\n    localObject[e.target.name] = e.target.value;\n    localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(localObject));\n};\n\nfunction formSubmit(e) {\n    e.preventDefault();\n\n    const savedData = JSON.parse(localStorage.getItem(LOCALSTORAGE_KEY));\n    console.log(savedData);\n\n    e.currentTarget.reset();\n    localStorage.removeItem(LOCALSTORAGE_KEY);\n    selectedElem = {};\n};\n\n\nfunction initForm() {\n    const persistedFilters = localStorage.getItem(LOCALSTORAGE_KEY);\n    if (persistedFilters) {\n        selectedElem = JSON.parse(persistedFilters);\n        console.log(selectedElem);\n        formElem.input.value = selectedElem.email;\n        formElem.textarea.value = selectedElem.message;\n    };\n  \n};\n"],"names":["$8zd4h","parcelRequire","$945622fd0f572e60$var$selectedElem","$945622fd0f572e60$var$localObject","email","message","$945622fd0f572e60$var$formElem","form","document","querySelector","input","textarea","addEventListener","$parcel$interopDefault","e","target","name","value","localStorage","setItem","JSON","stringify","preventDefault","savedData","parse","getItem","console","log","currentTarget","reset","removeItem","persistedFilters","$945622fd0f572e60$var$initForm"],"version":3,"file":"03-feedback.b491604a.js.map"}
{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAGA,IAAIC,EAAc,CAAEC,MAAO,IAAKC,QAAS,KAEzC,MAAMC,EAAW,CACfC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,yBAC9BE,SAAUH,SAASC,cAAc,6BAGnCH,EAASC,KAAKK,iBAAiB,QAASC,EAAAZ,EAAA,EAKxC,SAAkBa,GAChBX,EAAYW,EAAEC,OAAOC,MAAQF,EAAEC,OAAOE,MACtCC,aAAaC,QAhBU,sBAgBgBC,KAAKC,UAAUlB,G,GAPG,MAC3DG,EAASC,KAAKK,iBAAiB,UAS/B,SAAoBE,GAClBA,EAAEQ,iBAEF,MAAMC,EAAYH,KAAKI,MAAMN,aAAaO,QAtBnB,wBAuBvBC,QAAQC,IAAIJ,GAEZT,EAAEc,cAAcC,QAChBX,aAAaY,WA1BU,uBA2BvB3B,EAAc,E,IAGhB,WACE,MAAM4B,EAAmBb,aAAaO,QA/Bf,uBAgCnBM,IACF5B,EAAciB,KAAKI,MAAMO,GACzBL,QAAQC,IAAIxB,GACZG,EAASI,MAAMO,MAAQd,EAAYC,MACnCE,EAASK,SAASM,MAAQd,EAAYE,Q,CAxB1C2B","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash/throttle';\n\nconst LOCALSTORAGE_KEY = 'feedback-form-state';\nlet localObject = { email: ' ', message: ' ' };\n\nconst formElem = {\n  form: document.querySelector('.feedback-form'),\n  input: document.querySelector('.feedback-form  input'),\n  textarea: document.querySelector('.feedback-form  textarea'),\n};\n\nformElem.form.addEventListener('input', throttle(formData, 500));\nformElem.form.addEventListener('submit', formSubmit);\n\ninitForm();\n\nfunction formData(e) {\n  localObject[e.target.name] = e.target.value;\n  localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(localObject));\n}\n\nfunction formSubmit(e) {\n  e.preventDefault();\n\n  const savedData = JSON.parse(localStorage.getItem(LOCALSTORAGE_KEY));\n  console.log(savedData);\n\n  e.currentTarget.reset();\n  localStorage.removeItem(LOCALSTORAGE_KEY);\n  localObject = {};\n}\n\nfunction initForm() {\n  const persistedFilters = localStorage.getItem(LOCALSTORAGE_KEY);\n  if (persistedFilters) {\n    localObject = JSON.parse(persistedFilters);\n    console.log(localObject);\n    formElem.input.value = localObject.email;\n    formElem.textarea.value = localObject.message;\n  }\n}\n"],"names":["$8zd4h","parcelRequire","$945622fd0f572e60$var$localObject","email","message","$945622fd0f572e60$var$formElem","form","document","querySelector","input","textarea","addEventListener","$parcel$interopDefault","e","target","name","value","localStorage","setItem","JSON","stringify","preventDefault","savedData","parse","getItem","console","log","currentTarget","reset","removeItem","persistedFilters","$945622fd0f572e60$var$initForm"],"version":3,"file":"03-feedback.ce9117e3.js.map"}